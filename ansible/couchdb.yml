- name: Setup CouchDB
  hosts: all
  roles:
    - role: couchdb
      couchdb_version: 3.2.0
      couchdb_uuid: 95d501838b47ead2c73fd199940d323f
      couchdb_admin_username: admin
      couchdb_admin_password: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        30393763326435393566316265616239643538343863336135383564613665306265396361383566
        3164336664333132656430303232343061633138366561650a623664616637333462666437653330
        39313438643562636366643761333034356332646564633134336639616464616231353136646638
        6537303135346237300a376638326466346631356534363335386230333362313035326539656362
        36386563353638653666383833323030353939396137643764656264353534336362323531376264
        3436366332306637663438633534386166323738323632336131
      couchdb_admin_password_hashed: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        35373332353164303530643337656538613030303033303636653830623362353866366162643732
        3465383739656162323863643363386663646436613931360a643230663566316565663734623131
        62383932326235393731333662306338333736343962663938303734383261313363343061326562
        6563356632613562310a363033393339303166373035313465343034336535366333383465386236
        31613130303066353661663736666137323461633562373431626265373635646366363062323161
        32353836613635386634313462636262376462616235366639343738633734383534643032383931
        66346163643165326334303564376538383835386334366461333139636338373661343330383064
        65373662356262333663386538396465613366353362303237656663633363313631326163663738
        3430
      couchdb_secret: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        64363462633865353730666566386564333066626666346461343433343361366266356538336637
        6333396336376130363536636238313532373339363436640a616164653635306636656437306633
        36363462636464323837306639613064346132623238396364323133613563336639656561353064
        3330373038333839640a313264333236656637376531616431623938323639303237616361323763
        35666230333163373738373561303163663631343661396362376530306635613261626239623361
        6235313232636432373630633661313934396133656636613436
      couchdb_erlang_cookie: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        35366231623466373362663631626438373965396433393936373336336238333336386435623864
        3937343433663936386535633564626165356336653361350a613434666462393634393464386339
        34303533326666396134323933336365626636303061633063396639303233303162343632373034
        3464616237613335370a326430623431393439373437303161346432663231353430633661336435
        36656230613834333133636464653539623263623237356664393066363035303966
      couchdb_nodes:
        - "{{ hostvars['node1']['ansible_default_ipv4']['address'] }}"
        - "{{ hostvars['node2']['ansible_default_ipv4']['address'] }}"
      tags:
        - couchdb
